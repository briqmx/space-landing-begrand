---
import Layout from '../layouts/Layout.astro'
import { Icon } from 'astro-icon/components'
import faqs from '../../data/faqs.json'
import projects from '../../data/projects.json'
import Project from '../components/Project.astro'
import Features from '../components/Features.astro'

const STEPS = [
	'Crea tu cuenta y completa tu perfil en la plataforma de briq.mx',
	'Compra metros cuadrados en el proyecto de tu elección y recibe tu certificado de compra',
	'Empieza a recibir ganancias por la renta y obtén plusvalía de tus metros',
	'Compra más metros, canjea tus metros por un departamento o vende tus metros cuando quieras'
]

const numberToCurrency = (number) => {
	return new Intl.NumberFormat('es-MX', {
		style: 'currency',
		currency: 'MXN'
	}).format(number)
}

const nonFeaturedProjects = projects.filter((project) => !project.isFeatured)
const featuredProjects = projects.filter((project) => project.isFeatured)
---

<Layout title="Inicio | Construye tu patrimonio metro a metro.">
	<main class="font-body text-lg text-navy antialiased">
		<div
			class="flex items-center justify-center gap-2 bg-navy py-2 text-center font-display text-sm font-semibold text-white"
		>
			<i class="fa-kit fa-briq-logo"></i>
			<p>Este es un espacio operado por briq.mx</p>
		</div>
		<nav class="sticky top-0 z-20 border-b bg-white py-4">
			<div class="mx-auto w-full max-w-screen-lg px-4">
				<div class="flex items-center justify-between">
					<a href="/v2">
						<img src="/logo-nav.png" alt="Logo" class="h-8" />
					</a>
					<div class="flex gap-2 items-center">
						<a
							class="hidden border border-white bg-white px-3 py-3 font-display text-xs font-medium text-navy md:inline-flex"
							href="#propiedades"
						>
							Ver propiedades
						</a>
						<a
							class="inline-flex border bg-white px-3 py-2 font-display text-xs font-medium text-navy items-center gap-1"
							href="https://www.briq.mx/users/sign_in"
						>
							<i class="fa-kit fa-briq-logo"></i>
							Iniciar sesión <span class="hidden sm:inline-block">con briq.mx</span>
						</a>
					</div>
				</div>
			</div>
		</nav>
		<header class="border-b bg-[#f9f9f6] py-16 bg-[center_bottom_-1rem] bg-repeat-x" style="background-image: url('city.svg')">
			<div class="mx-auto w-full max-w-screen-lg px-4">
				<div class="text-balance w-full flex flex-col items-center text-center mx-auto max-w-3xl gap-4 mb-8">
					<!-- <h1 class="text-3xl md:text-4xl font-display font-bold text-pretty">Compra metros cuadrados, hazte de tu departamento y recibe rentas mensuales</h1> -->
					<h1 class="text-3xl md:text-4xl font-display font-bold text-balance">La nueva forma de adquirir tu departamento un metro a la vez</h1>
					<p class="leading-relaxed">
						Compra desde 1m² en los mejores edificios, obtén rentas y plusvalía, junta metros suficientes y cambialos por un departamento.
					</p>
					<div class="flex gap-2 items-center justify-center">
						<a href="#propiedades" class=" btn">Ver mi próxima propiedad</a>
					</div>
				</div>
				<figure class="aspect-video bg-black rounded-2xl relative">
					<video
						class="absolute inset-0 h-full w-full object-cover rounded-2xl"
						controls
						src="/video-general.mp4"
					/>
				</figure>
			</div>
		</header>
		<Features />
		<section class="border-y bg-beige py-24" id="propiedades">
			<div class="mx-auto w-full max-w-screen-lg px-4">
				<div class="flex flex-col gap-2">
					<p class="font-display text-sm font-semibold text-primary">Propiedades disponibles:</p>
					<h2 class="mb-16 max-w-xl font-display text-2xl font-bold md:text-4xl">
						Elige tu próxima propiedad y comienza a recibir rentas
					</h2>
				</div>
				<div class="mb-6 flex flex-col gap-8">
					{
						featuredProjects.map((project, index) => (
						<Project project={project} />
						))
					}
				</div>
				<div class="h-px w-full bg-black/10 mb-6"></div>
				<div class="mb-16 grid grid-cols-1 gap-6 md:grid-cols-3">
					{
						nonFeaturedProjects.map((project, index) => (
							<Project project={project} />
						))
					}
				</div>
				<p class="mb-8 py-2 text-center line">
					Además de volverte dueño de m² de grandes propiedades, con Sumametros cuentas con
				</p>
				<div class="grid grid-cols-1 gap-8 md:grid-cols-3">
					<article class="flex flex-col items-center gap-2 py-4 text-center">
						<Icon name="tabler:building-skyscraper" class="text-2xl text-navy" />
						<h2 class="font-display font-bold">Una plataforma regulada</h2>
						<p>
							Las operaciones se realizan a través de briq.mx, líder en el mercado y regulada por
							las autoridades financieras.
						</p>
					</article>
					<article class="flex flex-col items-center gap-2 py-4 text-center">
						<Icon name="tabler:shield-lock" class="text-2xl text-navy" />
						<h2 class="font-display font-bold">Respaldo de empresas reconocidas</h2>
						<p>
							Inmuebles respaldados y operados por Be Grand<sup>&reg;</sup>. Empresa con años de
							experiencia en el sector residencial de lujo.
						</p>
					</article>
					<article class="flex flex-col items-center gap-2 py-4 text-center">
						<Icon name="tabler:home-ribbon" class="text-2xl text-navy" />
						<h2 class="font-display font-bold">Constancia de propiedad</h2>
						<p>
							Recibe una constancia que acredita tu propiedad de metros cuadrados libre de cualquier
							gravamen.
						</p>
					</article>
				</div>
			</div>
		</section>
		<section class="py-16 border-b">
			<div class="mx-auto w-full max-w-screen-lg px-4">
				<p class="font-display text-sm font-semibold text-primary">¿Por qué Sumametros?</p>
				<h2 class="font-display text-4xl font-bold">
					Conoce más sobre Sumametros
				</h2>
				<p class="mb-6">
					Moris Dieck te explica por qué Sumametros es la mejor opción para crecer tu patrimonio
				</p>
				<div class="grid grid-cols-3 gap-4">
					<button class="video-button flex flex-col gap-2 border p-4 rounded-xl" data-video="/video-1.mp4">
						<figure class="aspect-video relative rounded-md overflow-hidden w-full">
							<video
								class="absolute inset-0 h-full w-full object-cover"
								src="/video-2.mp4"
							/>
							<div class="absolute inset-0 bg-black/20 flex items-center justify-center">
								<Icon name="tabler:play" class="text-white text-4xl" />
							</div>
						</figure>
						<h3 class="font-display font-bold">Sé dueño de m² y <span class="highlight">recibe rentas</span> sin preocuparte.</h3>
					</button>
					<button class="video-button flex flex-col gap-2 border p-4 rounded-xl" data-video="/video-2.mp4">
						<figure class="aspect-video relative rounded-md overflow-hidden w-full">
							<video
								class="absolute inset-0 h-full w-full object-cover"
								src="/video-1.mp4"
							/>
							<div class="absolute inset-0 bg-black/20 flex items-center justify-center">
								<Icon name="tabler:play" class="text-white text-4xl" />
							</div>
						</figure>
						<h3 class="font-display font-bold">Compra tu departamento <span class="highlight">a tu propio ritmo</span>.</h3>
					</button>
					<button class="video-button flex flex-col gap-2 border p-4 rounded-xl" data-video="/video-3.mp4">
						<figure class="aspect-video relative rounded-md overflow-hidden w-full">
							<video
								class="absolute inset-0 h-full w-full object-cover"
								src="/video-3.mp4"
							/>
							<div class="absolute inset-0 bg-black/20 flex items-center justify-center">
								<Icon name="tabler:play" class="text-white text-4xl" />
							</div>
						</figure>
						<h3 class="font-display font-bold">Tu inversión está <span class="highlight">respaldada y segura</span>.</h3>
					</button>
				</div>
			</div>
		</section>
		<!-- <section class="py-16 border-b">
			<div class="mx-auto w-full max-w-screen-lg px-4">
				<p class="font-display text-sm font-semibold text-primary">Ventajas</p>
				<h2 class="mb-24 font-display text-4xl font-bold">
					¿Cuáles son las ventajas de comprar metros cuadrados en Sumametros?
				</h2>
				<div class="grid grid-cols-1 gap-8 md:grid-cols-2">
					<article class="flex flex-col justify-between rounded-lg border bg-beige p-8">
						<div>
							<h2 class="font-display font-bold text-primary">A tu ritmo</h2>
							<p class="mb-16 font-display text-2xl font-bold">
								Puedes comprar desde 1m², comenzar a crecer tu patrimonio y recibir rentas
								mensuales
							</p>
						</div>
						<p class="text-lg font-medium opacity-50">
							Con Sumametros no necesitas desembolsar grandes cantidades ni endeudarte para ser
							dueño. Además, olvídate de tener que esperar a que tu propiedad se rente para recibir
							ganancias
						</p>
					</article>
					<article class="flex flex-col justify-between rounded-lg border bg-beige p-8">
						<div>
							<h2 class="font-display font-bold text-primary">Diversificación</h2>
							<p class="mb-16 font-display text-2xl font-bold">
								Puedes invertir en diferentes propiedades.
							</p>
						</div>
						<p class="text-lg font-medium opacity-50">
							Con Sumametros podrás diversificar tu inversión de manera sencilla, comprando metros
							cuadrados en diferentes desarrollos
						</p>
					</article>
					<article class="flex flex-col justify-between rounded-lg border bg-beige p-8">
						<div>
							<h2 class="font-display font-bold text-primary">Operación</h2>
							<p class="mb-16 font-display text-2xl font-bold">
								No tienes que preocuparte por nada ya que las propiedades son operadas por Be Grand<sup>&reg;</sup>
							</p>
						</div>
						<p class="text-lg font-medium opacity-50">
							Con Sumametros no tendrás que preocuparte por tareas de mantenimiento, cobranza, o
							malos inquilinos; ya que todas las propiedades son operadas por los expertos de Be
							Grand<sup>&reg;</sup>
						</p>
					</article>
					<article class="flex flex-col justify-between rounded-lg border bg-beige p-8">
						<div>
							<h2 class="font-display font-bold text-primary">Liquidez para emergencias</h2>
							<p class="mb-16 font-display text-2xl font-bold">
								Vender tus metros cuadrados en el mercado secundario, o pide un préstamos hipotecándolos (próximamente).
							</p>
						</div>
						<p class="text-lg font-medium opacity-50">
							Si llegaras a necesitar liquidez, puedes vender tus metros más fácil que vender un departamento; o incluso puedes ponerlos como garantía y te conseguimos quién te preste por ellos (próximamente).
						</p>
					</article>
				</div>
			</div>
		</section> -->
		<section class="bg-beige pb-16 pt-24 border-b">
			<div class="mx-auto w-full max-w-screen-lg px-4">
				<div class="flex flex-col md:flex-row items-stretch gap-6">
					<div class="w-full flex flex-col justify-between items-start">
						<div>
							<p class="font-display font-bold text-primary">¿Cómo funciona?</p>
							<h2 class="font-display text-2xl md:text-4xl font-bold max-w-lg text-pretty">
								Comienza poco a poco y hazte de tu departamento
							</h2>
						</div>
						<img src="/icon-4.svg" class="h-64" />
					</div>
					<article class="w-full">
						<div class="flex flex-col items-start">
							{
								STEPS.map((step, index) => (
									<article class="flex items-stretch gap-4">
										<div class="flex flex-col items-center">
											<div class="flex h-10 w-10 flex-shrink-0 items-center justify-center rounded-full bg-navy font-display font-bold text-white">
												{index + 1}
											</div>
											{index !== STEPS.length - 1 && <div class="h-full w-1 bg-navy" />}
										</div>
										<div class="flex flex-col items-start gap-4 pb-10">
											<p class="font-display text-xl font-semibold">{step}</p>
											{index == STEPS.length - 1 && (
												<a
													href="#propiedades"
													class="btn"
												>
													Comprar ahora
												</a>
											)}
										</div>
									</article>
								))
							}
						</div>
					</article>
				</div>
			</div>
		</section>
		<section class="py-24">
			<div class="mx-auto w-full max-w-screen-lg px-4">
				<div class="grid grid-cols-1 gap-8 p-8 md:grid-cols-3">
					<figure class="flex items-center justify-center bg-beige">
						<img src="/logo-begrand.svg" alt="Logo" class="w-32 mix-blend-multiply" />
					</figure>
					<div class="col-span-2 flex flex-col items-start gap-8">
						<div>
							<p class="font-display font-bold text-primary">Respaldo</p>
							<h2 class="max-w-2xl text-pretty font-display text-2xl font-bold md:text-4xl">
								Todas las propiedades son respaldadas y administradas por Be Grand<sup>&reg;</sup>
							</h2>
						</div>
						<p class="leading-relaxed text-pretty">
							Empresa mexicana, con 20 años de experiencia en el desarrollo y
							comercialización de proyectos inmobiliarios de alta calidad en zonas AAA en México y
							España. Líder en el segmento residencial plus y con amplia experiencia en
							desarrollos residenciales, comerciales y oficinas.
						</p>
						<div class="flex flex-wrap gap-8 md:flex-nowrap">
							<dl>
								<dt class="text-sm">Años de experiencia</dt>
								<dd class="font-display text-2xl font-bold">20</dd>
							</dl>
							<dl>
								<dt class="text-sm">Proyectos inmobiliarios</dt>
								<dd class="font-display text-2xl font-bold">+30</dd>
							</dl>
							<dl>
								<dt class="text-sm">Departamentos vendidos</dt>
								<dd class="font-display text-2xl font-bold">+5,000</dd>
							</dl>
						</div>
						<a
							class="btn"
							href="https://begrand.mx"
							target="_blank"
							>Conoce más</a
						>
					</div>
				</div>
			</div>
		</section>
		<section class="border-t py-24">
			<div class="mx-auto w-full max-w-screen-lg px-4">
				<article class="flex flex-col items-start gap-8 bg-navy p-4 md:p-16 text-white">
					<div class="flex items-center gap-4">
						<img src="/logo-emblema-briq-white.svg" alt="Logo" class="w-24" />
						<div class="w-6 h-6 border rounded-lg border-white/20 flex items-center justify-center">
							<i class="fas fa-xmark text-xs"></i>
						</div>
						<img src="/logo-nav-white.png" alt="Logo" class="h-8" />
					</div>
					<h2 class="max-w-xl font-display text-2xl font-bold md:text-4xl">
						Sumametros es un espacio dedicado dentro de briq.mx.
					</h2>
					<p class="leading-relaxed text-pretty text-xl">
						briq.mx es una plataforma de financiamiento colectivo, regulada por las autoridades
						financieras, que permite a cualquier persona invertir en proyectos inmobiliarios en
						México de manera fácil, segura y transparente.
					</p>
					<p class="leading-relaxed text-pretty text-xl">
						Los espacios dedicados son secciones dentro de briq.mx en donde encontrarás proyectos y
						oportunidades para invertir promovidos por una empresa o grupo específico.
					</p>
				</article>
			</div>
		</section>
		<section class="border-t bg-beige py-16">
			<div class="mx-auto w-full max-w-screen-lg px-4">
				<h2 class="mb-16 font-display text-4xl font-bold">Preguntas frecuentes</h2>
				<div class="grid grid-cols-1 gap-4">
					{
						faqs.map((faq) => (
							<div class="flex w-full flex-col gap-4 rounded-lg border bg-white p-8">
								<h2 class="font-display text-2xl font-bold">{faq.question}</h2>
								<p class="text-lg">{faq.answer}</p>
							</div>
						))
					}
				</div>
			</div>
		</section>
		<section class="py-t8 pb-16 bg-beige">
			<div class="mx-auto w-full max-w-screen-lg px-4">
				<div class="bg-navy px-4 py-16 rounded-lg border text-white flex items-center justify-center">
					<div class="max-w-2xl text-center flex flex-col gap-4 items-center">
						<h2 class="text-xl md:text-4xl font-bold font-display">¿Estas listo para hacerte de tu patrimonio de una forma diferente?</h2>
						<p class="text-xl opacity-80">Comienza a invertir y adquirir propiedades 1m² a la vez y únete a la revolución inmobiliaria</p>
						<a href="#propiedades" class="btn">Ver propiedades</a>
					</div>
				</div>
			</div>
		</section>
		<footer class="border-y py-4">
			<div class="mx-auto w-full max-w-screen-lg px-4">
				<div class="flex items-center justify-center gap-4">
					<span class="text-sm">Para conocer más sobre Sumametros</span>
					<a
						href="https://www.instagram.com/begrand/"
						class="flex items-center gap-1 border p-2 font-display text-sm font-bold md:p-3"
						target="_blank"
					>
						<Icon name="bxl:instagram" class="h-6 w-6 text-navy opacity-50" />
						<span>@begrand</span>
					</a>
					<a
						href="https://www.facebook.com/begrand/"
						class="flex items-center gap-1 border p-2 font-display text-sm font-bold md:p-3"
						target="_blank"
					>
						<Icon name="bxl:facebook" class="h-6 w-6 text-navy opacity-50" />
						<span>Be Grand</span>
					</a>
				</div>
			</div>
		</footer>
		<footer class="bg-navy py-12 text-sm text-white">
			<div class="mx-auto flex w-full max-w-screen-lg flex-col gap-8 px-4">
				<div class="grid grid-cols-1 gap-2 md:grid-cols-4">
					<div class="col-span-2 flex flex-col items-start gap-4">
						<img src="/logo-emblema-briq-white.svg" alt="Logo" class="w-32" />
						<p class="inline-block rounded-md border border-white/5 bg-white/10 px-2 py-1 text-sm">
							Empresa regulada por la CNBV
						</p>
						<nav class="flex gap-2">
							<a
								class="flex h-8 w-8 items-center justify-center rounded-full border border-white"
								href="https://www.facebook.com/briqmx"
								target="_blank"
							>
								<i class="fa-brands fa-facebook-f"></i>
							</a>
							<a
								class="flex h-8 w-8 items-center justify-center rounded-full border border-white"
								href="https://twitter.com/BriqMx"
								target="_blank"
							>
								<i class="fa-brands fa-x-twitter"></i>
							</a>
							<a
								class="flex h-8 w-8 items-center justify-center rounded-full border border-white"
								href="https://www.youtube.com/channel/UC5gSLYFILbOPSXDd9Oax4AA"
								target="_blank"
							>
								<i class="fa-brands fa-youtube"></i>
							</a>
							<a
								class="flex h-8 w-8 items-center justify-center rounded-full border border-white"
								href="https://www.linkedin.com/company/briq-mx"
								target="_blank"
							>
								<i class="fa-brands fa-linkedin-in"></i>
							</a>
							<a
								class="flex h-8 w-8 items-center justify-center rounded-full border border-white"
								href="https://www.instagram.com/briqmx"
								target="_blank"
							>
								<i class="fa-brands fa-instagram"></i>
								</a>
							<a
								class="flex h-8 w-8 items-center justify-center rounded-full border border-white"
								href="https://www.tiktok.com/@briqmx"
								target="_blank"
							>
								<i class="fa-brands fa-tiktok"></i>
							</a>
						</nav>
					</div>
					<div class="flex flex-col gap-2 text-white/80">
						<h3 class="mb-4 font-bold uppercase text-white">¿Quíenes somos?</h3>
						<a href="https://www.briq.mx/nosotros">Sobre nosotros</a>
						<a href="https://www.briq.mx/medios">Medios y prensa</a>
						<a href="https://www.briq.mx/sostenibilidad">Sostenibilidad</a>
						<a href="https://www.briq.mx/regulacion">Regulación</a>
						<a href="https://www.briq.mx/avisoprivacidad">Aviso de privacidad</a>
						<a href="https://www.briq.mx/tyc">Términos y condiciones</a>
					</div>
					<div class="flex flex-col gap-2 text-white/80">
						<h3 class="mb-4 font-bold uppercase text-white">Más información</h3>
						<a href="https://ayuda.briq.mx/">Contacto y ayuda</a>
						<a href="https://www.briq.mx/glosario">Glosario de términos</a>
						<a href="https://www.briq.mx/regulacion/une">Unidad especializada (UNE)</a>
						<a href="https://novedades.briq.mx/">Cambios y mejoras</a>
						<a href="https://www.briq.mx/recursos">Recursos</a>
					</div>
				</div>
				<div class="flex flex-col gap-2 text-white/50">
					<p>
						BRIQ FUND, S.A.P.I. de C.V., Institución de Financiamiento Colectivo, en términos de la
						Ley para Regular las Instituciones de Tecnología Financiera, es una sociedad autorizada,
						regulada y supervisada por las autoridades financieras. <a target="_blank" class="text-white underline" href="https://www.dof.gob.mx/nota_detalle.php?codigo=5712432&fecha=26/12/2023#gsc.tab=0">Autorización P116/2021</a>
					</p>
					<p>
						Ni el Gobierno Federal ni las entidades de la administración pública paraestatal podrán
						responsabilizarse o garantizar los recursos de los Clientes que sean utilizados en las
						Operaciones que celebren con las ITF (en este caso briq.mx) o frente a otros, así como
						tampoco asumir alguna responsabilidad por las obligaciones contraídas por las ITF (en
						este caso briq.mx) o por algún Cliente frente a otro, en virtud de las Operaciones que
						celebren.
					</p>
				</div>
			</div>
			<div
				class="fixed inset-0 z-20 hidden items-center justify-center bg-black/90"
				id="video-modal"
			>
				<div
					class="relative aspect-video w-full bg-white shadow-xl md:h-[80vh] md:w-auto"
					id="video-container"
				>
					<video controls class="absolute inset-0 h-full w-full" id="video">
						<source src="/video-general.mp4" type="video/mp4" />
					</video>
					<button class="absolute right-0 top-0 bg-white p-4 text-black" id="close-video">
						Cerrar
					</button>
				</div>
			</div>
		</footer>
	</main>

	<script is:inline>
		const playVideoButtons = document.querySelectorAll('.video-button')
		const videoModal = document.getElementById('video-modal')
		const closeVideo = document.getElementById('close-video')
		const videoContainer = document.getElementById('video-container')

		// Detect a click on any of the play buttons
		playVideoButtons.forEach((button) => {
			button.addEventListener('click', (event) => {
				const video = document.getElementById('video')
				const videoSrc = event.currentTarget.dataset.video // Use currentTarget instead of target

				// Set the video source
				video.src = `${videoSrc}`
				console.log(videoSrc)

				// Show the modal
				videoModal.classList.remove('hidden')
				videoModal.classList.add('flex')

				// Play the video
				video.play()
			})
		})

		// Close the modal
		closeVideo.addEventListener('click', () => {
			const video = document.getElementById('video')

			videoModal.classList.remove('flex')
			videoModal.classList.add('hidden')
			video.pause()
		})

		//If I click outside the video-container, close the modal
		videoModal.addEventListener('click', (event) => {
			if (event.target.id === 'video-modal') {
				videoModal.classList.remove('flex')
				videoModal.classList.add('hidden')
				video.pause()
			}
		})
	</script>
</Layout>

<style is:global>
  .btn {
    @apply bg-primary text-white inline-flex items-center justify-center text-center gap-2 text-base font-display px-8 py-3 rounded-sm font-semibold;
  }

	.highlight {
		background-image: url('/highlight.svg');
		background-repeat: no-repeat;
	}

	.line {
		background-image: url('/line.svg');
		background-position: bottom 0.12em center;
    background-repeat: no-repeat;
    background-size: 50% 0.2em;
	}

</style>
